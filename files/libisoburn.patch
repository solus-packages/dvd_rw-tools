diff --git a/growisofs.1 b/growisofs.1
index b8c920f..cf14f51 100644
--- a/growisofs.1
+++ b/growisofs.1
@@ -1,6 +1,6 @@
 .TH GROWISOFS 1m "1 Mar 2008" "growisofs 7.1"
 .SH NAME
-growisofs \- combined mkisofs frontend/DVD recording program.
+growisofs \- combined xorrisofs frontend/DVD recording program.
 .SH SYNOPSIS
 .B growisofs
 [\fB\-dry\-run\fP]
@@ -9,10 +9,10 @@ growisofs \- combined mkisofs frontend/DVD recording program.
 [\fB\-speed=1\fP]
 \-[\fBZ|M\fP]
 .I /dev/dvd
-.I <mkisofs-options>
+.I <xorrisofs-options>
 
 .SH DESCRIPTION
-\fBgrowisofs\fP was originally designed as a frontend to \fBmkisofs\fP
+\fBgrowisofs\fP was originally designed as a frontend to \fBxorrisofs\fP
 to facilitate appending of data to ISO9660 volumes residing on
 random-access media such as DVD+RW, DVD\-RAM, plain files, hard disk
 partitions. In the course of development general purpose DVD recording
@@ -35,7 +35,7 @@ EXAMPLES section for further details.
 Merge a new session to an existing one.
 .TP
 .BI \-version
-Print version information and invoke \fBmkisofs\fP, also with \-version
+Print version information and invoke \fBxorrisofs\fP, also with \-version
 option.
 .TP
 .BI \-dvd\-compat
@@ -47,7 +47,7 @@ explicitly burn [otherwise optional] lead\-out.
 .BI \-dry\-run
 At dry\-run \fBgrowisofs\fP performs all the steps till, but not
 including the first write operation. Most notably check for "overburn"
-condition is performed, which implies that mkisofs is invoked and
+condition is performed, which implies that xorrisofs is invoked and
 terminated prematurely.
 .TP
 .BI \-overburn
@@ -68,8 +68,8 @@ be found in \fBdvd+rw\-mediainfo\fP output. Note that Blu\-ray Disc
 recordings are commonly performed at ~1/2 of advertised speed, because
 of defect management being in effect.
 .TP
-.BI <mkisofs-options>
-More options can be found in the manpage for \fBmkisofs\fP.
+.BI <xorrisofs-options>
+More options can be found in the manpage for \fBxorrisofs\fP.
 
 .P
 There are several undocumented options commonly denoted with
@@ -82,7 +82,7 @@ these options undocumented is that those few users who would actually
 need to use them directly can as well consult the source code or obtain
 specific instructions elsewhere.
 
-.SH DIFFERENCES WITH RUNNING MKISOFS DIRECTLY
+.SH DIFFERENCES WITH RUNNING XORRISOFS DIRECTLY
 .P
 When using growisofs you may not use the
 .B \-o 
@@ -99,13 +99,13 @@ will construct one for you;
 Otherwise everything that applies to 
 .I [multisession] 
 mastering with 
-.B mkisofs 
+.B xorrisofs 
 applies to 
 .B growisofs 
 as well. 
 .B growisofs
 needs at least 
-.B mkisofs
+.B xorrisofs
 version 1.14, version 2.0 is required for multisession write-once
 recordings.
 
@@ -146,12 +146,12 @@ command name is not intuitive in this context.
 .SH NOTES
 If executed under sudo(8) growisofs refuses to start. This is done for
 the following reason. Naturally growisofs has to access the data set to
-be recorded to optical media, either indirectly by letting mkisofs
+be recorded to optical media, either indirectly by letting xorrisofs
 generate ISO9660 layout on-the-fly or directly if a pre-mastered image
 is to be recorded. Being executed under sudo(8), growisofs effectively
 grants sudoers read access to \fIany\fP file in the file system. The
-situation is intensified by the fact that growisofs parses MKISOFS
-environment variable in order to determine alternative path to mkisofs
+situation is intensified by the fact that growisofs parses XORRISOFS
+environment variable in order to determine alternative path to xorrisofs
 executable image. This means that being executed under sudo(8),
 growisofs effectively grants sudoers right to execute program of their
 choice with elevated privileges. If you for any reason still find the
@@ -162,13 +162,13 @@ real growisofs binary.
 .nf
 	#!/bin/ksh
 	unset SUDO_COMMAND
-	export MKISOFS=/path/to/trusted/mkisofs
+	export XORRISOFS=/path/to/trusted/xorrisofs
 	exec growisofs "$@"
 .fi
 
 But note that the recommended alternative to the above "workaround" is
 actually to install growisofs set\-root\-uid, in which case it will drop
-privileges prior accessing data or executing mkisofs in order to
+privileges prior accessing data or executing xorrisofs in order to
 preclude unauthorized access to the data.
 
 If the media already carries isofs and \fBgrowisofs\fP is invoked with
@@ -214,7 +214,7 @@ it gets pre-formatted with minimal spare area size of 256MB.
 Most up-to-date information on dvd+rw\-tools is available at
 http://fy.chalmers.se/~appro/linux/DVD+RW/.
 .PP
-The manpage for \fBmkisofs\fP.
+The manpage for \fBxorrisofs\fP.
 
 .SH AUTHORS
 Andy Polyakov <appro@fy.chalmers.se> stands for programming and on-line
diff --git a/growisofs.c b/growisofs.c
index 6c47192..8e55514 100644
--- a/growisofs.c
+++ b/growisofs.c
@@ -2724,7 +2724,7 @@ void pipe_mkisofs_up (char *mkisofs_argv[],int infd,int outfd,off64_t outoff)
         perror (":-( unable to create pipe"), exit(FATAL_START(errno));
 
     if ((mkisofs_pid=fork ()) == (pid_t)-1)
-	perror (":-( unable to fork mkisofs"), exit(FATAL_START(errno));
+	perror (":-( unable to fork xorrisofs"), exit(FATAL_START(errno));
     else if (mkisofs_pid == 0)
     {	dup2  (fildes[1],1);
 	close (fildes[0]);
@@ -2964,7 +2964,7 @@ int main (int argc, char *argv[])
 
 #if defined(__unix) || defined(__unix__)
     env = getenv ("MKISOFS");
-    mkisofs_argv[0] = (env?env:"mkisofs");
+    mkisofs_argv[0] = (env?env:"xorrisofs");
 #elif defined(_WIN32)
     /*
      * On Windows I insist on mkisofs.exe to reside in very same
diff --git a/transport.hxx b/transport.hxx
index 35a57a7..8ee1536 100644
--- a/transport.hxx
+++ b/transport.hxx
@@ -9,6 +9,7 @@
 #if defined(__unix) || defined(__unix__)
 #include <stdio.h>
 #include <stdlib.h>
+#include <limits.h>
 #include <unistd.h>
 #include <string.h>
 #include <sys/types.h>
@@ -40,6 +41,7 @@ inline long getmsecs()
 #include <stddef.h>
 #include <stdio.h>
 #include <stdlib.h>
+#include <limits.h>
 #define ssize_t		LONG_PTR
 #define off64_t		__int64
 
